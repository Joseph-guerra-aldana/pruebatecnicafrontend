<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.13.1/font/bootstrap-icons.min.css">

<!-- login, solo formulario -->
<div *ngIf="isLoginRoute()" class="d-block">
  <router-outlet></router-outlet>
</div>

<!-- otra ruta, sidebar -->
<div *ngIf="!isLoginRoute()" class="d-flex">
  <div class="sidebar text-white p-3 vh-100" style="width: 250px;">
    
    <div class="text-center mb-4">
      <img src="assets/isodoozi-s.png" alt="Doozi Logo" class="logo-img mx-auto">
    </div>

    <div class="text-center mb-2">
      <img src="assets/user.jpg" alt="User" class="profile-img mx-auto">
    </div>

    <div class="text-center mb-4">
      <div class="greeting-title">Hola, {{ username }}</div>
      <div class="greeting-subtitle">
        {{ role === 'admin' ? 'Administrador' : 'Usuario' }}
      </div>
    </div>

    <ul class="nav flex-column">
      <li class="nav-item nav-glb mb-1" *ngIf="isAdmin()">
        <a class="nav-link  greeting-subtitle" routerLink="/users" routerLinkActive="active"><i class="bi greeting-subtitle bi-people-fill"></i> Usuarios</a>
      </li>
      <li class="nav-item nav-glb">
        <a class="nav-link  greeting-subtitle" routerLink="/tasks" routerLinkActive="active"><i class="bi greeting-subtitle bi-card-list"></i> Tareas</a>
      </li>
    </ul>
    <div class="logout-container mt-auto pt-3">
      <button class="logout-btn" *ngIf="isLoggedIn()" (click)="logout()">
        <i class="bi bi-box-arrow-right me-2"></i> Cerrar sesi√≥n
      </button>
    </div>

  </div>

  <div class="flex-grow-1 p-4">
    <router-outlet></router-outlet>
  </div>
</div>

